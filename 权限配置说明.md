# ðŸ” æƒé™é…ç½®è¯´æ˜Ž

## ðŸ“‹ ç®€å•é…ç½®æ–¹å¼

**ç”¨æˆ·åªéœ€è¦é…ç½®æ‰‹æœºå·å’Œæ•°æ®é›†IDï¼Œç³»ç»Ÿè‡ªåŠ¨å¤„ç†åŒ¹é…é€»è¾‘ï¼**

### ðŸŽ¯ JSONé…ç½®æ–‡ä»¶ï¼ˆæŽ¨èï¼‰

åœ¨ `config/permissions.json` æ–‡ä»¶ä¸­é…ç½®ï¼š

```json
{
  "special_users": [
    "13851602833",
    "15850727400", 
    "18352695421"
  ],
  "restricted_datasets": [
    "6846eefcf7cf3ed0262f1374",
    "6846eeebf7cf3ed0262f0bb4A", 
    "6846e10ef7cf3ed0262bde87"
  ],
  "description": "æƒé™é…ç½®æ–‡ä»¶ - åªéœ€é…ç½®æ‰‹æœºå·å’Œå—é™æ•°æ®é›†ID",
  "last_updated": "2024-12-19"
}
```

### ðŸ”§ çŽ¯å¢ƒå˜é‡ï¼ˆå…¼å®¹æ¨¡å¼ï¼‰

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# ç‰¹æ®Šç”¨æˆ·æ‰‹æœºå·ï¼ˆé€—å·åˆ†éš”ï¼‰
SPECIAL_ACCESS_USERS=13851602833,15850727400,18352695421

# å—é™æ•°æ®é›†IDï¼ˆé€—å·åˆ†éš”ï¼‰
RESTRICTED_DATASETS=6846eefcf7cf3ed0262f1374,6846eeebf7cf3ed0262f0bb4A,6846e10ef7cf3ed0262bde87
```

## ðŸŽ¯ æƒé™ä½“ç³»è¯´æ˜Ž

### ç”¨æˆ·æƒé™åˆ†çº§

| ç”¨æˆ·ç±»åž‹ | é…ç½®æ–¹å¼ | æƒé™èŒƒå›´ | è®¿é—®è§„åˆ™ |
|---------|---------|---------|----------|
| **ç‰¹æ®Šç”¨æˆ·** | æ‰‹æœºå·åˆ—è¡¨ | ç‰¹æ®Šæƒé™ | è®¿é—®æ‰€æœ‰æ•°æ®é›†ï¼ˆåŒ…æ‹¬å—é™æ•°æ®é›†ï¼‰ |  
| **æ™®é€šç”¨æˆ·** | å…¶ä»–ç”¨æˆ· | åŸºç¡€æƒé™ | ä»…è®¿é—®éžå—é™æ•°æ®é›† |

### é…ç½®ä¼˜å…ˆçº§

```
é…ç½®è¯»å–ä¼˜å…ˆçº§ï¼š
1. JSONé…ç½®æ–‡ä»¶ (config/permissions.json) âœ¨ æŽ¨è
2. çŽ¯å¢ƒå˜é‡ (SPECIAL_ACCESS_USERS) ðŸ”„ å…¼å®¹
```

### è‡ªåŠ¨æ­£åˆ™åŒ¹é…

ç³»ç»Ÿä¼šè‡ªåŠ¨å°†æ‰‹æœºå·åˆ—è¡¨è½¬æ¢ä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼š
```
é…ç½®: ["13851602833", "15850727400", "18352695421"]
â†“ ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆ
æ­£åˆ™: ^(?:13851602833|15850727400|18352695421)$
```

## ðŸ› ï¸ é…ç½®ç¤ºä¾‹

### å®Œæ•´é…ç½®ç¤ºä¾‹

```json
{
  "special_users": [
    "13851602833",
    "15850727400",
    "18352695421",
    "13951767380",
    "18951710731",
    "18600987960",
    "15161464654",
    "13621589059",
    "15062213991",
    "18750942676",
    "13813000386",
    "13819125221",
    "15387192400",
    "18551855028",
    "13770923223",
    "13951926699",
    "18758823239",
    "18662718877",
    "15208306914",
    "13354985241",
    "15826088288",
    "18631195052",
    "13996040610",
    "18709916307",
    "18603650535",
    "18905319679",
    "18706719662",
    "18751995872",
    "18652952736",
    "17629004059",
    "18262608930",
    "15151807690",
    "18551855658",
    "18021540490",
    "13951611424",
    "17326101105",
    "17558859897"
  ],
  "restricted_datasets": [
    "6846eefcf7cf3ed0262f1374",
    "6846eeebf7cf3ed0262f0bb4A", 
    "6846e10ef7cf3ed0262bde87"
  ],
  "description": "æƒé™é…ç½®æ–‡ä»¶ - åªéœ€é…ç½®æ‰‹æœºå·å’Œå—é™æ•°æ®é›†ID",
  "last_updated": "2024-12-19"
}
```

### çŽ¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹

```bash
# ç‰¹æ®Šç”¨æˆ·æ‰‹æœºå·ï¼ˆ37ä¸ªï¼‰
SPECIAL_ACCESS_USERS=13851602833,15850727400,18352695421,13951767380,18951710731,18600987960,15161464654,13621589059,15062213991,18750942676,13813000386,13819125221,15387192400,18551855028,13770923223,13951926699,18758823239,18662718877,15208306914,13354985241,15826088288,18631195052,13996040610,18709916307,18603650535,18905319679,18706719662,18751995872,18652952736,17629004059,18262608930,15151807690,18551855658,18021540490,13951611424,17326101105,17558859897

# å—é™æ•°æ®é›†
RESTRICTED_DATASETS=6846eefcf7cf3ed0262f1374,6846eeebf7cf3ed0262f0bb4A,6846e10ef7cf3ed0262bde87
```

## ðŸ” æƒé™éªŒè¯æµç¨‹

1. **é…ç½®åŠ è½½**
   ```python
   # ä»ŽJSONæˆ–çŽ¯å¢ƒå˜é‡åŠ è½½æ‰‹æœºå·åˆ—è¡¨
   special_users = ["13851602833", "15850727400", ...]
   ```

2. **è‡ªåŠ¨ç”Ÿæˆæ­£åˆ™**
   ```python
   # ç³»ç»Ÿè‡ªåŠ¨æ‹¼æŽ¥æ­£åˆ™è¡¨è¾¾å¼
   phone_regex = "^(?:13851602833|15850727400|...)$"
   ```

3. **ç”¨æˆ·åŒ¹é…**
   ```python
   # ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç”¨æˆ·ID
   def is_special_user(userid):
       return re.match(phone_regex, userid)
   ```

## ðŸ“ é…ç½®æ³¨æ„äº‹é¡¹

### âœ… æ­£ç¡®é…ç½®
- **åªéœ€é…ç½®æ‰‹æœºå·**ï¼Œæ— éœ€äº†è§£æ­£åˆ™è¡¨è¾¾å¼
- **åªéœ€é…ç½®æ•°æ®é›†ID**ï¼Œç³»ç»Ÿè‡ªåŠ¨å¤„ç†æƒé™
- JSONæ–‡ä»¶ä½¿ç”¨UTF-8ç¼–ç 
- æ‰‹æœºå·ä½¿ç”¨å­—ç¬¦ä¸²æ ¼å¼

### âŒ å¸¸è§é”™è¯¯
- æ‰‹æœºå·ä½¿ç”¨æ•°å­—æ ¼å¼ï¼ˆåº”è¯¥ç”¨å­—ç¬¦ä¸²ï¼‰
- JSONæ–‡ä»¶æ ¼å¼é”™è¯¯
- æ–‡ä»¶ç¼–ç é—®é¢˜

### ðŸ”§ é…ç½®éªŒè¯
å¯åŠ¨æœåŠ¡å™¨æ—¶ä¼šåœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºå½“å‰æƒé™é…ç½®ï¼š
```
ðŸ” æƒé™é…ç½®:
  ç‰¹æ®Šç”¨æˆ·: 37 ä¸ªæ‰‹æœºå·
  å—é™æ•°æ®é›†: 6846eefcf7cf3ed0262f1374, 6846eeebf7cf3ed0262f0bb4A, 6846e10ef7cf3ed0262bde87
```

## ðŸš€ å¿«é€Ÿå¼€å§‹

### ä½¿ç”¨JSONé…ç½®æ–‡ä»¶ï¼ˆæŽ¨èï¼‰

1. **åˆ›å»ºé…ç½®ç›®å½•**
   ```bash
   mkdir -p config
   ```

2. **åˆ›å»ºæƒé™é…ç½®æ–‡ä»¶**
   ```bash
   # åˆ›å»º config/permissions.json
   cat > config/permissions.json << 'EOF'
   {
     "special_users": [
       "13851602833",
       "15850727400"
     ],
     "restricted_datasets": [
       "6846eefcf7cf3ed0262f1374"
     ]
   }
   EOF
   ```

3. **å¯åŠ¨æœåŠ¡éªŒè¯**
   ```bash
   python main.py
   ```

### æ·»åŠ æ–°ç”¨æˆ·

```bash
# ç¼–è¾‘JSONæ–‡ä»¶ï¼Œåœ¨special_usersæ•°ç»„ä¸­æ·»åŠ æ–°æ‰‹æœºå·
nano config/permissions.json
```

### æ·»åŠ å—é™æ•°æ®é›†

```bash
# ç¼–è¾‘JSONæ–‡ä»¶ï¼Œåœ¨restricted_datasetsæ•°ç»„ä¸­æ·»åŠ æ–°æ•°æ®é›†ID
nano config/permissions.json
```

## ðŸ’¡ è®¾è®¡ä¼˜åŠ¿

- **ç”¨æˆ·å‹å¥½**ï¼šåªéœ€é…ç½®æ‰‹æœºå·å’Œæ•°æ®é›†ID
- **è‡ªåŠ¨å¤„ç†**ï¼šç³»ç»Ÿè‡ªåŠ¨ç”ŸæˆåŒ¹é…é€»è¾‘
- **é«˜æ•ˆåŒ¹é…**ï¼šå•æ¬¡æ­£åˆ™åŒ¹é…ï¼Œæ€§èƒ½ä¼˜ç§€
- **æ˜“äºŽç»´æŠ¤**ï¼šé…ç½®ç®€å•ï¼Œä¿®æ”¹æ–¹ä¾¿

---
*æŽ¨èé…ç½®æ–¹å¼ï¼š`config/permissions.json` æ–‡ä»¶* 